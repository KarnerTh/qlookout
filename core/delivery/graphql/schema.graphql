"""
This is autogenerated - use "make merge-graphql-files"
"""

schema {
    query: Query
    mutation: Mutation
    subscription: Subscription
}

type Query {
    lookouts: [Lookout!]!
    lookout(id: Int!): Lookout!
    rule(id: Int!): Rule!
}

type Mutation {
    createLookout(data: LookoutCreate!): Lookout!
    updateLookout(id: Int!, data: LookoutUpdate!): Lookout!
    deleteLookout(id: Int!): Lookout!
    createRule(data: RuleCreate!): Rule!
    updateRule(id: Int!, data: RuleUpdate!): Rule!
    deleteRule(id: Int!): Rule!
}

type Subscription {
    newNotification: Notification!
}

type Lookout {
    id: Int!
    name: String!
    query: String!
    cron: String!
    notifyLocal: Boolean!
    notifyMail: Boolean!
    rules: [Rule!]!
}

type Notification {
    lookoutId: Int!
    ruleId: Int!
    title: String!
    description: String!
    timestamp: String!
}

type Rule {
    id: Int!
    lookoutId: Int!
    columnName: String!
    columnType: String!
    rowIndex: Int!
    exactValue: String
    greaterThan: String
    lessThan: String
    shouldBeNull: Boolean!
}




input LookoutCreate {
    name: String!
    query: String!
    cron: String!
    notifyLocal: Boolean!
    notifyMail: Boolean!
}

input LookoutUpdate {
    name: String
    query: String
    cron: String
    notifyLocal: Boolean
    notifyMail: Boolean
}

input RuleCreate {
    lookoutId: Int!
    columnName: String!
    columnType: String!
    rowIndex: Int!
    exactValue: String
    greaterThan: String
    lessThan: String
    shouldBeNull: Boolean
}

input RuleUpdate {
    columnName: String
    columnType: String
    rowIndex: Int
    exactValue: String
    greaterThan: String
    lessThan: String
    shouldBeNull: Boolean
}
