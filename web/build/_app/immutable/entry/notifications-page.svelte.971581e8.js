import{S as x,i as tt,s as et,y as U,z as W,A as j,g as S,d as N,B as F,k as E,q as M,a as $,l as I,m as V,r as O,h as p,c as A,n as y,b as P,D as b,u as Q,p as R,$ as Z,W as _t,a0 as ht,N as dt,v as ot,a1 as mt,f as rt,o as gt,G as vt,I as pt,J as bt,K as wt,a2 as kt,t as X,w as lt,F as Et,E as Y}from"../chunks/index.f49fd5c2.js";import{g as It,P as Vt,B as Tt}from"../chunks/PageHeader.b42d5f8a.js";import{C as Dt}from"../chunks/Card.a6e88971.js";import{n as st}from"../chunks/notification.store.31efcc63.js";function yt(i){let t,e,l,s=i[0].title+"",a,_,f,r=i[0].description+"",c,m,n,o,g,v=i[1](new Date(i[0].timestamp))+"",L;return{c(){t=E("div"),e=E("div"),l=E("div"),a=M(s),_=$(),f=E("div"),c=M(r),m=$(),n=E("div"),o=$(),g=E("span"),L=M(v),this.h()},l(u){t=I(u,"DIV",{class:!0});var h=V(t);e=I(h,"DIV",{class:!0});var k=V(e);l=I(k,"DIV",{class:!0});var T=V(l);a=O(T,s),T.forEach(p),_=A(k),f=I(k,"DIV",{class:!0});var G=V(f);c=O(G,r),G.forEach(p),k.forEach(p),m=A(h),n=I(h,"DIV",{class:!0}),V(n).forEach(p),o=A(h),g=I(h,"SPAN",{});var J=V(g);L=O(J,v),J.forEach(p),h.forEach(p),this.h()},h(){y(l,"class","font-bold"),y(f,"class",""),y(e,"class","flex flex-col"),y(n,"class","flex-grow"),y(t,"class","flex gap-2")},m(u,h){P(u,t,h),b(t,e),b(e,l),b(l,a),b(e,_),b(e,f),b(f,c),b(t,m),b(t,n),b(t,o),b(t,g),b(g,L)},p(u,h){h&1&&s!==(s=u[0].title+"")&&Q(a,s),h&1&&r!==(r=u[0].description+"")&&Q(c,r),h&1&&v!==(v=u[1](new Date(u[0].timestamp))+"")&&Q(L,v)},d(u){u&&p(t)}}}function Lt(i){let t,e;return t=new Dt({props:{cursor:!0,$$slots:{default:[yt]},$$scope:{ctx:i}}}),t.$on("click",i[2]),{c(){U(t.$$.fragment)},l(l){W(t.$$.fragment,l)},m(l,s){j(t,l,s),e=!0},p(l,[s]){const a={};s&9&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){e||(S(t.$$.fragment,l),e=!0)},o(l){N(t.$$.fragment,l),e=!1},d(l){F(t,l)}}}function St(i,t,e){let{notification:l}=t;const s=_=>_.toLocaleDateString(void 0,{hour:"numeric",minute:"numeric",second:"numeric"}),a=()=>It(`/lookout/${l.lookoutId}`);return i.$$set=_=>{"notification"in _&&e(0,l=_.notification)},[l,s,a]}class Nt extends x{constructor(t){super(),tt(this,t,St,Lt,et,{notification:0})}}function it(i,t,e){const l=i.slice();return l[23]=t[e],l}const Ht=i=>({item:i&16}),nt=i=>({item:i[23].data});function qt(i){let t;return{c(){t=M("Missing template")},l(e){t=O(e,"Missing template")},m(e,l){P(e,t,l)},d(e){e&&p(t)}}}function at(i,t){let e,l,s;const a=t[14].default,_=vt(a,t,t[13],nt),f=_||qt();return{key:i,first:null,c(){e=E("svelte-virtual-list-row"),f&&f.c(),l=$(),this.h()},l(r){e=I(r,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var c=V(e);f&&f.l(c),l=A(c),c.forEach(p),this.h()},h(){Z(e,"class","svelte-1tqh76q"),this.first=e},m(r,c){P(r,e,c),f&&f.m(e,null),b(e,l),s=!0},p(r,c){t=r,_&&_.p&&(!s||c&8208)&&pt(_,a,t,t[13],s?wt(a,t[13],c,Ht):bt(t[13]),nt)},i(r){s||(S(f,r),s=!0)},o(r){N(f,r),s=!1},d(r){r&&p(e),f&&f.d(r)}}}function $t(i){let t,e,l=[],s=new Map,a,_,f,r,c=i[4];const m=n=>n[23].index;for(let n=0;n<c.length;n+=1){let o=it(i,c,n),g=m(o);s.set(g,l[n]=at(g,o))}return{c(){t=E("svelte-virtual-list-viewport"),e=E("svelte-virtual-list-contents");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){t=I(n,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var o=V(t);e=I(o,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var g=V(e);for(let v=0;v<l.length;v+=1)l[v].l(g);g.forEach(p),o.forEach(p),this.h()},h(){R(e,"padding-top",i[5]+"px"),R(e,"padding-bottom",i[6]+"px"),Z(e,"class","svelte-1tqh76q"),R(t,"height",i[0]),Z(t,"class","svelte-1tqh76q"),_t(()=>i[17].call(t))},m(n,o){P(n,t,o),b(t,e);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(e,null);i[15](e),i[16](t),a=ht(t,i[17].bind(t)),_=!0,f||(r=dt(t,"scroll",i[7]),f=!0)},p(n,[o]){o&8208&&(c=n[4],ot(),l=mt(l,o,m,1,n,c,s,e,kt,at,null,it),rt()),(!_||o&32)&&R(e,"padding-top",n[5]+"px"),(!_||o&64)&&R(e,"padding-bottom",n[6]+"px"),(!_||o&1)&&R(t,"height",n[0])},i(n){if(!_){for(let o=0;o<c.length;o+=1)S(l[o]);_=!0}},o(n){for(let o=0;o<l.length;o+=1)N(l[o]);_=!1},d(n){n&&p(t);for(let o=0;o<l.length;o+=1)l[o].d();i[15](null),i[16](null),a(),f=!1,r()}}}function At(i,t,e){let{$$slots:l={},$$scope:s}=t,{items:a}=t,{height:_="100%"}=t,{itemHeight:f=void 0}=t,{start:r=0}=t,{end:c=0}=t,m=[],n,o,g,v=0,L,u,h=0,k=0,T;async function G(d,C,D){const{scrollTop:H}=o;await X();let z=h-H,w=r;for(;z<C&&w<d.length;){let B=n[w-r];B||(e(9,c=w+1),await X(),B=n[w-r]);const q=m[w]=D||B.offsetHeight;z+=q,w+=1}e(9,c=w);const K=d.length-c;T=(h+z)/c,e(6,k=K*T),m.length=d.length}async function J(){const{scrollTop:d}=o,C=r;for(let w=0;w<n.length;w+=1)m[r+w]=f||n[w].offsetHeight;let D=0,H=0;for(;D<a.length;){const w=m[D]||T;if(H+w>d){e(8,r=D),e(5,h=H);break}H+=w,D+=1}for(;D<a.length&&(H+=m[D]||T,D+=1,!(H>d+v)););e(9,c=D);const z=a.length-c;for(T=H/c;D<a.length;)m[D++]=T;if(e(6,k=z*T),r<C){await X();let w=0,K=0;for(let q=r;q<C;q+=1)n[q-r]&&(w+=m[q],K+=f||n[q-r].offsetHeight);const B=K-w;o.scrollTo(0,d+B)}}gt(()=>{n=g.getElementsByTagName("svelte-virtual-list-row"),e(12,u=!0)});function ct(d){lt[d?"unshift":"push"](()=>{g=d,e(3,g)})}function ft(d){lt[d?"unshift":"push"](()=>{o=d,e(2,o)})}function ut(){v=this.offsetHeight,e(1,v)}return i.$$set=d=>{"items"in d&&e(10,a=d.items),"height"in d&&e(0,_=d.height),"itemHeight"in d&&e(11,f=d.itemHeight),"start"in d&&e(8,r=d.start),"end"in d&&e(9,c=d.end),"$$scope"in d&&e(13,s=d.$$scope)},i.$$.update=()=>{i.$$.dirty&1792&&e(4,L=a.slice(r,c).map((d,C)=>({index:C+r,data:d}))),i.$$.dirty&7170&&u&&G(a,v,f)},[_,v,o,g,L,h,k,J,r,c,a,f,u,s,l,ct,ft,ut]}class Pt extends x{constructor(t){super(),tt(this,t,At,$t,et,{items:10,height:0,itemHeight:11,start:8,end:9})}}function Ct(i){let t,e;return t=new Pt({props:{items:i[0],$$slots:{default:[zt,({item:l})=>({2:l}),({item:l})=>l?4:0]},$$scope:{ctx:i}}}),{c(){U(t.$$.fragment)},l(l){W(t.$$.fragment,l)},m(l,s){j(t,l,s),e=!0},p(l,s){const a={};s&1&&(a.items=l[0]),s&12&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){e||(S(t.$$.fragment,l),e=!0)},o(l){N(t.$$.fragment,l),e=!1},d(l){F(t,l)}}}function Rt(i){let t,e;return{c(){t=E("div"),e=M("No notifications"),this.h()},l(l){t=I(l,"DIV",{class:!0});var s=V(t);e=O(s,"No notifications"),s.forEach(p),this.h()},h(){y(t,"class","flex items-center justify-center pt-5")},m(l,s){P(l,t,s),b(t,e)},p:Y,i:Y,o:Y,d(l){l&&p(t)}}}function zt(i){let t,e,l;return e=new Nt({props:{notification:i[2]}}),{c(){t=E("div"),U(e.$$.fragment),this.h()},l(s){t=I(s,"DIV",{class:!0});var a=V(t);W(e.$$.fragment,a),a.forEach(p),this.h()},h(){y(t,"class","mb-2")},m(s,a){P(s,t,a),j(e,t,null),l=!0},p(s,a){const _={};a&4&&(_.notification=s[2]),e.$set(_)},i(s){l||(S(e.$$.fragment,s),l=!0)},o(s){N(e.$$.fragment,s),l=!1},d(s){s&&p(t),F(e)}}}function Bt(i){let t,e,l,s,a,_,f,r,c,m,n,o;e=new Vt({props:{title:"Notifications"}}),f=new Tt({props:{title:"Clear",leadingIcon:"trash"}}),f.$on("click",i[1]);const g=[Rt,Ct],v=[];function L(u,h){return u[0].length===0?0:1}return m=L(i),n=v[m]=g[m](i),{c(){t=E("div"),U(e.$$.fragment),l=$(),s=E("div"),a=E("span"),_=$(),U(f.$$.fragment),r=$(),c=E("div"),n.c(),this.h()},l(u){t=I(u,"DIV",{class:!0});var h=V(t);W(e.$$.fragment,h),l=A(h),s=I(h,"DIV",{class:!0});var k=V(s);a=I(k,"SPAN",{class:!0}),V(a).forEach(p),_=A(k),W(f.$$.fragment,k),k.forEach(p),r=A(h),c=I(h,"DIV",{class:!0});var T=V(c);n.l(T),T.forEach(p),h.forEach(p),this.h()},h(){y(a,"class","grow"),y(s,"class","flex items-center pb-3"),y(c,"class","overflow-auto mb-2 h-full"),y(t,"class","flex flex-col max-h-full h-full")},m(u,h){P(u,t,h),j(e,t,null),b(t,l),b(t,s),b(s,a),b(s,_),j(f,s,null),b(t,r),b(t,c),v[m].m(c,null),o=!0},p(u,[h]){let k=m;m=L(u),m===k?v[m].p(u,h):(ot(),N(v[k],1,1,()=>{v[k]=null}),rt(),n=v[m],n?n.p(u,h):(n=v[m]=g[m](u),n.c()),S(n,1),n.m(c,null))},i(u){o||(S(e.$$.fragment,u),S(f.$$.fragment,u),S(n),o=!0)},o(u){N(e.$$.fragment,u),N(f.$$.fragment,u),N(n),o=!1},d(u){u&&p(t),F(e),F(f),v[m].d()}}}function Mt(i,t,e){let l;return Et(i,st,a=>e(0,l=a)),[l,()=>{st.clear()}]}class Ft extends x{constructor(t){super(),tt(this,t,Mt,Bt,et,{})}}export{Ft as default};
